--------------------------------------------------------
-- Archivo creado  - martes-febrero-05-2019   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table LIBROS
--------------------------------------------------------

  CREATE TABLE "LIBROS" 
   (	"CODLIBRO" VARCHAR2(10 BYTE), 
	"TITULO" VARCHAR2(50 BYTE), 
	"AUTOR" VARCHAR2(30 BYTE), 
	"TEMA" VARCHAR2(15 BYTE), 
	"UNIDADES" NUMBER(3,0)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRESTAMOS
--------------------------------------------------------

  CREATE TABLE "PRESTAMOS" 
   (	"CODSOCIO" NUMBER(6,0), 
	"CODLIBRO" VARCHAR2(10 BYTE), 
	"FECHAPRES" VARCHAR2(10 BYTE)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SOCIOS
--------------------------------------------------------

  CREATE TABLE "SOCIOS" 
   (	"CODSOCIO" NUMBER(6,0), 
	"NOMBRE" VARCHAR2(30 BYTE), 
	"DIRECCION" VARCHAR2(30 BYTE), 
	"PROVINCIA" VARCHAR2(15 BYTE), 
	"TELF" NUMBER(9,0)
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into LIBROS
SET DEFINE OFF;
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-110','GUIA DE MICROSOFT WORKS 3','HARLEY HAHN','WORKS','6');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-112','MANUAL DE BORLAND C++ 4.0','ANGULO, JOSE MARIA','LENGUAJE C','10');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-115','LIBRO DE EXCEL 97','JOHN WALKENBACH','EXCEL','7');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-117','APLIQUE TURBO C++','SCHILDT H.','LENGUAJE C','4');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-119','PUESTA A PUNTO DE ORACLE','ABBEY, J COREY','ORACLE','5');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-121','ORACLE GUIA DE APRENDIZAJE 7','ABBEY, J COREY','ORACLE','9');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-123','METODOLOGIA DE LA PROGRAMACION','D. ALONSO Y S.RUMEU','PROGRAMACION','5');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-124','PROGRAMACION ORIENTADA A OBJ','MORALES Y SEGOVIA','PROGRAMACION','7');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-111','MICROSOFT WORKS 3','JOANNE WOODCOCK','WORKS','4');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-113','MICROPROCESADORES 32 BITS','ANGULO, JOSE MARIA','ARQUITECTURA','5');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-114','COMPUTADORAS 5a GENERACION','BISHOP, PETER','ARQUITECTURA','6');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-116','EXCEL 4 PARA WINDOWS-(99%)','SUSANA LINARES','EXCEL','10');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-118','PROGRAMACION EN C++','ENRIQUE Y JOSE HERNANDEZ','LENGUAJE C','6');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-120','ORACLE 7. MANUAL DE REFERENCIA','GEORGE KOCH','ORACLE','8');
Insert into LIBROS (CODLIBRO,TITULO,AUTOR,TEMA,UNIDADES) values ('IG-122','TECNICAS DE PROGRAMACION','F. ALONSO','PROGRAMACION','8');
REM INSERTING into PRESTAMOS
SET DEFINE OFF;
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('210','IG-117','2017/02/10');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('210','IG-121','2017/02/10');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('223','IG-117','2017/02/02');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('226','IG-115','2017/02/15');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('229','IG-120','2012/02/18');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('230','IG-114','2012/02/10');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('230','IG-123','2012/02/20');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('200','IG-114','2017/02/10');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('200','IG-117','2017/02/16');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('200','IG-119','2017/02/17');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('210','IG-115','2017/02/08');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('210','IG-120','2017/02/12');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('223','IG-116','2017/02/15');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('226','IG-114','2017/02/13');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('229','IG-115','2012/02/17');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('229','IG-122','2012/02/18');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('230','IG-118','2012/02/17');
Insert into PRESTAMOS (CODSOCIO,CODLIBRO,FECHAPRES) values ('230','IG-119','2012/02/19');
REM INSERTING into SOCIOS
SET DEFINE OFF;
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('210','PEDRO PEREZ','LA HOSPEDERIA, 5','TOLEDO','45867666');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('223','JAVIER SANCHEZ','LOS BARRIOS S/N','TOLEDO','92567666');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('230','FRANCISCO PONCE','LA MARCHA, 21','MADRID','91445566');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('200','JUAN MARTINEZ','LA ALAMEDA 15','MADRID','91667666');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('220','ANA GARCIA','DEL HOSPITAL, 10','VALENCIA','96657666');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('226','ALICIA MORALES','LA MARIPOSA 89','MADRID','91987666');
Insert into SOCIOS (CODSOCIO,NOMBRE,DIRECCION,PROVINCIA,TELF) values ('229','JUANA LOPEZ','EL SALTAMONTES 315','MADRID','97167966');
--------------------------------------------------------
--  DDL for Index PK_LIBROS
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_LIBROS" ON "LIBROS" ("CODLIBRO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_PRESTAMOS
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_PRESTAMOS" ON "PRESTAMOS" ("CODSOCIO", "CODLIBRO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_SOCIOS
--------------------------------------------------------

  CREATE UNIQUE INDEX "PK_SOCIOS" ON "SOCIOS" ("CODSOCIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table SOCIOS
--------------------------------------------------------

  ALTER TABLE "SOCIOS" ADD CONSTRAINT "PK_SOCIOS" PRIMARY KEY ("CODSOCIO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table LIBROS
--------------------------------------------------------

  ALTER TABLE "LIBROS" ADD CONSTRAINT "PK_LIBROS" PRIMARY KEY ("CODLIBRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRESTAMOS
--------------------------------------------------------

  ALTER TABLE "PRESTAMOS" ADD CONSTRAINT "PK_PRESTAMOS" PRIMARY KEY ("CODSOCIO", "CODLIBRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRESTAMOS
--------------------------------------------------------

  ALTER TABLE "PRESTAMOS" ADD CONSTRAINT "FK1_PRESTAMOS" FOREIGN KEY ("CODLIBRO")
	  REFERENCES "LIBROS" ("CODLIBRO") ENABLE;
 
  ALTER TABLE "PRESTAMOS" ADD CONSTRAINT "FK2_PRESTAMOS" FOREIGN KEY ("CODSOCIO")
	  REFERENCES "SOCIOS" ("CODSOCIO") ENABLE;
